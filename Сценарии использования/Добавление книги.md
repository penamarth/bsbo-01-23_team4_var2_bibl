# Сценарий добавления книги в ячейку

## Начало операции
1. Библиотекарь выбирает операцию **"Добавить книгу в ячейку"**.
2. Система запрашивает:
   - Идентификатор ячейки
   - Название книги
   - Автора книги

## Ввод данных
3. Библиотекарь вводит:
   - `cellId` — номер ячейки
   - `title` — название книги
   - `author` — автор книги

## Создание книги
4. Система **генерирует уникальный ID** для книги.
5. Система **создает объект Book** с полученными данными.
6. Система **добавляет книгу** в репозиторий книг.

## Поиск ячейки
7. Система находит **каталог**.
8. Через каталог находит **нужный стеллаж**.
9. В стеллаже находит **конкретную ячейку** по `cellId`.

## Размещение книги
10. Система **помещает книгу в ячейку** (вызывает `cell.Add(book)`).

## Завершение операции
11. Система показывает сообщение: **"Книга успешно добавлена"**.
12. Операция завершена.



  
```plantuml
@startuml
title Диаграмма последовательности — Прецедент "Добавить книгу в ячейку"

actor Librarian
participant "Library" as Lib
participant "IBookRepository" as BookRepo <<interface>>
participant "Catalog" as Catalog
participant "Shelf"
participant "Cell"
participant "Book"

Librarian -> Lib : AddBookToCell(cellId, title, author)

Lib -> Lib : GenerateBookId()
Lib -> Book : <<create>> Book(id, title, author)
Lib -> BookRepo : AddBook(book)

Lib -> Catalog : найти шкаф с ячейкой
Catalog --> Lib : shelf
Lib -> Shelf : GetChild(cellId)
Shelf --> Lib : cell

Lib -> Cell : Add(book)

Lib --> Librarian : "Книга успешно добавлена"
@enduml
```

![Добавление книги](Добавление%20книги.png)

